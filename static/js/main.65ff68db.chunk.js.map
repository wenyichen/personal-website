{"version":3,"sources":["utils/reportWebVitals.js","modules/header/header.tsx","modules/home/home.tsx","constants/constants.tsx","modules/common/loading.tsx","apis/gapi.tsx","modules/resume/resume.tsx","utils/fetchUtils.tsx","utils/pdfUtils.tsx","modules/app/app.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","className","to","Home","target","rel","href","Loading","gApiInitialized","callWhenGApiInitialized","callback","setTimeout","ResumePdf","result","useState","read","resource","setResource","useEffect","request","window","gapi","client","path","params","mimeType","promise","status","suspender","r","e","console","log","wrapPromise","file","byteCharacters","body","byteNumbers","Array","length","i","charCodeAt","byteArray","Uint8Array","File","type","pdfResponseToFile","undefined","noData","loading","error","pageNumber","size","width","ResumeLoading","Resume","fallback","App","basename","process","pdfjs","GlobalWorkerOptions","workerSrc","version","load","init","apiKey","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uXAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,+BCHDQ,EAAS,kBACpB,sBAAKC,UAAU,SAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,wBACA,8DCGSC,G,MAAO,kBAClB,qBAAKF,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UACE,mBAAGG,OAAO,SAASC,IAAI,aAAaC,KCVjB,oCDUnB,kBAGA,mBAAGF,OAAO,SAASC,IAAI,aAAaC,KChBf,4CDgBrB,sBAGA,mBAAGF,OAAO,SAASC,IAAI,aAAaC,KClBjB,+BDkBnB,oBAGA,cAAC,IAAD,CAAMJ,GAAG,UAAT,oBACA,mBAAGE,OAAO,SAASC,IAAI,aAAaC,KCrBlB,iCDqBlB,0B,uBEvBOC,EAAU,WACrB,OAAO,+CCDEC,G,OAAkB,GAgBhBC,EAA0B,SAA1BA,EAA2BC,GAClCF,EACFE,IAGFC,YAAW,kBAAMF,EAAwBC,KAAW,MCNzCE,EAAY,WAAO,IAkB1BC,EAlByB,EACGC,mBAAoB,CAClDC,KAAM,eAFqB,mBACtBC,EADsB,KACZC,EADY,KAK7BC,qBAAU,WAURT,GATkB,WAChB,IAAMU,EAAUC,OAAOC,KAAKC,OAAOH,QAAQ,CACzCI,KAAK,6CAAD,OHnBgB,+CGmBhB,WACJC,OAAQ,CACNC,SAAU,qBAGdR,EC5BqB,SAACS,GAC1B,IACIb,EADAc,EAAS,UAETC,EAAYF,EAAQhC,MACtB,SAACmC,GACCF,EAAS,UACTd,EAASgB,KAEX,SAACC,GACCH,EAAS,QACTd,EAASiB,KAGb,MAAO,CACLf,KADK,WAEH,GAAe,YAAXY,EACF,MAAMC,EACD,GAAe,UAAXD,EACTI,QAAQC,IAAInB,QACP,GAAe,YAAXc,EACT,OAAOd,IDQGoB,CAAYd,SAGzB,IAIH,IAAMe,GADNrB,EAASG,EAASD,QElCa,SAC/BF,GAIA,IAFA,IAAMsB,EAAiBtB,EAAOuB,KACxBC,EAAc,IAAIC,MAAMH,EAAeI,QACpCC,EAAI,EAAGA,EAAIL,EAAeI,OAAQC,IACzCH,EAAYG,GAAKL,EAAeM,WAAWD,GAE7C,IAAME,EAAY,IAAIC,WAAWN,GAIjC,OAHa,IAAIO,KAAK,CAACF,GAAY,SAAU,CAC3CG,KAAM,2BFyBcC,CAAkBjC,QAAUkC,EAElD,OACE,qBAAK9C,UAAU,4BAAf,SACE,cAAC,IAAD,CACEA,UAAU,kBACViC,KAAMA,EACNc,OAAO,GACPC,QAAQ,GACRC,MAAM,wBALR,SAOE,cAAC,IAAD,CAAMC,WAAY,EAAGC,KAAK,MAAMC,MAjClB,WAuChBC,EAAgB,WACpB,OACE,qBAAKrD,UAAU,iBAAf,SACE,cAAC,EAAD,OAKOsD,EAAS,WACpB,OACE,qBAAKtD,UAAU,SAAf,SACE,cAAC,WAAD,CAAUuD,SAAU,cAAC,EAAD,IAApB,SACE,cAAC,EAAD,SGzDKC,EAAM,WACjB,OACE,qBAAKxD,UAAU,MAAf,SACE,eAAC,IAAD,CAAQyD,SAAUC,oBAAlB,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOpC,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,EAAD,eCTZQ,QAAQC,IAAI2B,yNAEZC,IAAMC,oBAAoBC,UAA1B,kDAAiFF,IAAMG,QAAvF,sBAEA3C,OAAOC,KAAK2C,KAAK,ULVO,WACtBjC,QAAQC,IAAI2B,2CACZvC,OAAOC,KAAKC,OACT2C,KAAK,CACJC,OAAQP,4CAETjE,MAAK,WACJc,GAAkB,KAEnB2D,OAAM,SAACrC,GACNC,QAAQmB,MAAMpB,SKEpBsC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BjF,M","file":"static/js/main.65ff68db.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./header.scss\";\r\n\r\nexport const Header = () => (\r\n  <div className=\"header\">\r\n    <Link to=\"/\">wenyi chen</Link>\r\n    <div>software engineer @ aws</div>\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  emailUrl,\r\n  githubUrl,\r\n  linkedinUrl,\r\n  mediumUrl,\r\n} from \"../../constants/constants\";\r\nimport \"./home.scss\";\r\n\r\nexport const Home = () => (\r\n  <div className=\"home\">\r\n    <div className=\"home-menu\">\r\n      <a target=\"_blank\" rel=\"noreferrer\" href={mediumUrl}>\r\n        blog\r\n      </a>\r\n      <a target=\"_blank\" rel=\"noreferrer\" href={linkedinUrl}>\r\n        linkedin\r\n      </a>\r\n      <a target=\"_blank\" rel=\"noreferrer\" href={githubUrl}>\r\n        github\r\n      </a>\r\n      <Link to=\"/resume\">resume</Link>\r\n      <a target=\"_blank\" rel=\"noreferrer\" href={emailUrl}>\r\n        email\r\n      </a>\r\n    </div>\r\n  </div>\r\n);\r\n","export const linkedinUrl = \"https://www.linkedin.com/in/wenyichen-cs/\";\r\nexport const githubUrl = \"https://github.com/wenyichen\";\r\nexport const emailUrl = \"mailto:wenyichen0310@gmail.com\";\r\nexport const mediumUrl = \"https://medium.com/@wenyichen0310\";\r\nexport const resumeFileId = \"1cH1u8KBP2EJSPJAuGXQMRtnLQRqvc2r2FasjSD6BxhY\";\r\n","export const Loading = () => {\r\n  return <span>loading...</span>;\r\n};\r\n","export let gApiInitialized = false;\r\n\r\nexport const initGApi = () => {\r\n  console.log(process.env.REACT_APP_GAPI_AUTH_TOKEN);\r\n  window.gapi.client\r\n    .init({\r\n      apiKey: process.env.REACT_APP_GAPI_AUTH_TOKEN,\r\n    })\r\n    .then(() => {\r\n      gApiInitialized = true;\r\n    })\r\n    .catch((e) => {\r\n      console.error(e);\r\n    });\r\n};\r\n\r\nexport const callWhenGApiInitialized = (callback: () => any) => {\r\n  if (gApiInitialized) {\r\n    callback();\r\n    return;\r\n  }\r\n  setTimeout(() => callWhenGApiInitialized(callback), 100);\r\n};\r\n","import React, { Suspense, useEffect, useState } from \"react\";\r\nimport { Document, Page } from \"react-pdf\";\r\nimport { resumeFileId } from \"../../constants/constants\";\r\nimport { wrapPromise } from \"../../utils/fetchUtils\";\r\nimport { pdfResponseToFile } from \"../../utils/pdfUtils\";\r\nimport { Loading } from \"../common/loading\";\r\nimport \"./resume.scss\";\r\nimport { callWhenGApiInitialized } from \"../../apis/gapi\";\r\n\r\ninterface IResource {\r\n  read(): any;\r\n}\r\n\r\nconst MAX_PDF_WIDTH = 1000;\r\n\r\nexport const ResumePdf = () => {\r\n  const [resource, setResource] = useState<IResource>({\r\n    read: () => undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const getResume = () => {\r\n      const request = window.gapi.client.request({\r\n        path: `https://www.googleapis.com/drive/v3/files/${resumeFileId}/export`,\r\n        params: {\r\n          mimeType: \"application/pdf\",\r\n        },\r\n      });\r\n      setResource(wrapPromise(request));\r\n    };\r\n    callWhenGApiInitialized(getResume);\r\n  }, []);\r\n\r\n  let result;\r\n  result = resource.read();\r\n  const file = result ? pdfResponseToFile(result) : undefined;\r\n\r\n  return (\r\n    <div className=\"resume-document-container\">\r\n      <Document\r\n        className=\"resume-document\"\r\n        file={file}\r\n        noData=\"\"\r\n        loading=\"\"\r\n        error=\"failed to load resume\"\r\n      >\r\n        <Page pageNumber={1} size=\"4A0\" width={MAX_PDF_WIDTH} />\r\n      </Document>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ResumeLoading = () => {\r\n  return (\r\n    <div className=\"resume-loading\">\r\n      <Loading />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Resume = () => {\r\n  return (\r\n    <div className=\"resume\">\r\n      <Suspense fallback={<ResumeLoading />}>\r\n        <ResumePdf />\r\n      </Suspense>\r\n    </div>\r\n  );\r\n};\r\n","export const wrapPromise = (promise: gapi.client.HttpRequest<any>) => {\r\n  let status = \"pending\";\r\n  let result: any;\r\n  let suspender = promise.then(\r\n    (r) => {\r\n      status = \"success\";\r\n      result = r;\r\n    },\r\n    (e) => {\r\n      status = \"error\";\r\n      result = e;\r\n    }\r\n  );\r\n  return {\r\n    read() {\r\n      if (status === \"pending\") {\r\n        throw suspender;\r\n      } else if (status === \"error\") {\r\n        console.log(result);\r\n      } else if (status === \"success\") {\r\n        return result;\r\n      }\r\n    },\r\n  };\r\n};\r\n","export const pdfResponseToFile = (\r\n  result: gapi.client.HttpRequestFulfilled<File>\r\n) => {\r\n  const byteCharacters = result.body;\r\n  const byteNumbers = new Array(byteCharacters.length);\r\n  for (let i = 0; i < byteCharacters.length; i++) {\r\n    byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n  }\r\n  const byteArray = new Uint8Array(byteNumbers);\r\n  const file = new File([byteArray], \"Resume\", {\r\n    type: \"application/pdf;base64\",\r\n  });\r\n  return file;\r\n};\r\n","import React from \"react\";\nimport \"./app.scss\";\nimport { Header } from \"../header/header\";\nimport { Home } from \"../home/home\";\nimport { Switch, Route, BrowserRouter as Router } from \"react-router-dom\";\nimport { Resume } from \"../resume/resume\";\n\nexport const App = () => {\n  return (\n    <div className=\"app\">\n      <Router basename={process.env.PUBLIC_URL}>\n        <Header />\n        <Switch>\n          <Route path=\"/resume\">\n            <Resume />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport './index.css'\r\nimport ReactDOM from 'react-dom';\r\nimport reportWebVitals from './utils/reportWebVitals';\r\nimport { App } from './modules/app/app';\r\nimport { pdfjs } from 'react-pdf';\r\nimport { initGApi } from './apis/gapi';\r\n\r\nconsole.log(process.env);\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nwindow.gapi.load('client', initGApi);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}